version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - generate_story
  - request_help
  - keywords
  - edit_story
  - print_keywords
  - giberish
  - change_color_scheme
  - change_font
  - change_sound
  - button_disabled
  - view_library
  - select_title

entities:
  - scheme
  - font
  - sound
  - title

slots:
  keyword_1:
    type: text
    mappings: 
      - type: from_text
        conditions: 
        - active_loop: keyword_filling_form
          requested_slot: keyword_1
  keyword_2:
    type: text
    mappings: 
      - type: from_text
        conditions: 
        - active_loop: keyword_filling_form
          requested_slot: keyword_2
  keyword_3:
    type: text
    mappings: 
      - type: from_text
        conditions: 
        - active_loop: keyword_filling_form
          requested_slot: keyword_3
  keyword_4:
    type: text
    mappings: 
      - type: from_text
        conditions: 
        - active_loop: keyword_filling_form
          requested_slot: keyword_4
  scheme:
    type: categorical
    values:
      - original
      - forest
      - mountain
      - fire
    initial_value: original
    mappings: 
      - type: from_entity
        entity: scheme
  font:
    type: categorical
    values:
      - monaco
      - dejavu sans mono
      - menlo
    initial_value: monaco
    mappings: 
      - type: from_entity
        entity: font
  sound:
    type: categorical
    values:
      - enable
      - disable
    initial_value: enable
    mappings: 
      - type: from_entity
        entity: sound
  title:
      type: text
      mappings:
        - type: from_entity
          entity: title

forms:
  keyword_filling_form:
    required_slots:
    - keyword_1
    - keyword_2
    - keyword_3
    - keyword_4

responses:
  utter_greet:
  - text: "Hey there! How are you?"

  utter_cheer_up:
  - text: "Here is something to cheer you up:"
    image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great, carry on!"

  utter_goodbye:
  - text: "Bye!"

  utter_iamabot:
  - text: "I am a bot, powered by Rasa."

  utter_welcome:
  - text: "Welcome to storytime! Would you like to create a story together?"

  utter_keywords:
  - text: "Please enter 4 keywords for your story to be about"

  utter_story_ready:
  - text: "Thanks! Your story in on the story page with the keywords {keywords_slot}."

  utter_help:
  - text: "Welcome to storytime! I am capable of helping you generate and flip through short stories about topics you reccomend. I can also help you modify your interactive story experience by changing: tts, language, story length, color scheme, etc. "

  utter_unable:
  - text: "Sorry I am unable to modify the story.  Would you like to generate a new one?"

  utter_ask_keyword_1:
  - text: "Great! We want to hear what you want your story to be about! Please enter one keyword for your story."

  utter_ask_keyword_2:
  - text: "Great!We will need a few more. Please enter another keyword for your story."

  utter_ask_keyword_3:
  - text: "Awesome! Please enter another one."

  utter_ask_keyword_4:
  - text: "Amazing! One more keyword please!"

  utter_keywords_output:
  - text: "Your entered keywords are {keyword_1} {keyword_2} {keyword_3} {keyword_4} {scheme} {font} {sound}"

  utter_dont_speak:
  - text: "Sorry I don't speak giberish"

  utter_color_changed:
  - text: "Color scheme was changed to {scheme}.  Can I help with anything else?"

  utter_font_changed:
  - text: "Font was changed to {font}.  Anything else I can help with?"

  utter_sound_changed:
  - text: "Sound was changed to {sound}.  What else can I do?"

  utter_button_disabled:
  - text: "You need to generate a story first would you like to generate a new story?"

  utter_how_help:
  - text: "Ok! Let me know how I can help.  If you don't know what I am capable of, feel free to ask for help!"

actions:
- action_say_keywords
- action_reset_form
- action_update_color
- action_update_font
- action_update_sound
- action_show_stored_titles
- action_load_story

session_config:
  session_expiration_time: 60 #value in minutes
  carry_over_slots_to_new_session: false