version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - generate_story
  - request_help
  - keywords
  - edit_story
  - print_keywords

slots:
  keyword_1:
    type: text
    mappings: 
      - type: from_text
        conditions: 
        - active_loop: keyword_filling_form
          requested_slot: keyword_1

  keyword_2:
    type: text
    mappings: 
      - type: from_text
        conditions: 
        - active_loop: keyword_filling_form
          requested_slot: keyword_2
  keyword_3:
    type: text
    mappings: 
      - type: from_text
        conditions: 
        - active_loop: keyword_filling_form
          requested_slot: keyword_3
  keyword_4:
    type: text
    mappings: 
      - type: from_text
        conditions: 
        - active_loop: keyword_filling_form
          requested_slot: keyword_4

forms:
  keyword_filling_form:
    required_slots:
    - keyword_1
    - keyword_2
    - keyword_3
    - keyword_4

responses:
  utter_greet:
  - text: "Hey there! How are you?"

  utter_cheer_up:
  - text: "Here is something to cheer you up:"
    image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great, carry on!"

  utter_goodbye:
  - text: "Bye!"

  utter_iamabot:
  - text: "I am a bot, powered by Rasa."

  utter_welcome:
  - text: "Welcome to storytime! Would you like to create a story together?"

  utter_keywords:
  - text: "Please enter 4 keywords for your story to be about"

  utter_story_ready:
  - text: "Thanks! Your story in on the story page with the keywords {keywords_slot}."

  utter_help:
  - text: "Welcome to storytime! I am capable of helping you generate and flip through short stories about topics you reccomend. I can also help you modify your interactive story experience by changing: tts, language, story length, color scheme, etc. "

  utter_unable:
  - text: "Sorry I am unable to modify the story.  Would you like to generate a new one?"

  utter_ask_keyword_1:
  - text: "Great! We want to hear what you want your story to be about! Please enter one keyword for your story."

  utter_ask_keyword_2:
  - text: "Great!We will need a few more. Please enter another keyword for your story."

  utter_ask_keyword_3:
  - text: "Awesome! Please enter another one."

  utter_ask_keyword_4:
  - text: "Amazing! One more keyword please!"

  utter_keywords_output:
  - text: "Your entered keywords are {keyword_1} {keyword_2} {keyword_3} {keyword_4}"

actions:
- action_say_keywords
- action_reset_form

session_config:
  session_expiration_time: 60 #value in minutes
  carry_over_slots_to_new_session: false
